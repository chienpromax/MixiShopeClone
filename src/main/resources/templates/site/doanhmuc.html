<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{site/index.html}">

<head>
</head>

<body>
    <section layout:fragment="main">
        <!-- header doanh muc -->
        <section class="container">
            <div class="row py-2">
                <div class="col-md-4 m-auto">
                    <h5 style="font-size: 1.3rem;" th:text="${isAllProducts} ? 'TẤT CẢ SẢN PHẨM' : 'ĐỒ LƯU NIỆM MIXI'"></h5>
                </div>
                <div class="col-md-8 m-auto">
                    <div class="select-sreach d-flex align-items-center float-end">
                        <h6 style="font-size: 1rem;">Hiển thị 1–12 của 17 kết quả</h6>
                        <div class="mb-3 ms-2">
                            <select style="font-size: 1rem;" class="form-select form-select-lg" name="" id="">
                                <option selected>Tất cả</option>
                                <option value="">Giá: thấp đến cao</option>
                                <option value="">Giá: cao đến thấp</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="height: 5px; width: 70%;
            background-color: rgb(0,119,132);
            display: inline-block;" class="m-auto"></div>
            </div>
        </section>

        <!-- body -->
        <section class="container category ">
            <div class="row py-2">
                <div class="col-md-3">
                    <h5 style="font-size: 1.3rem;">LỌC THEO GIÁ</h5>
                    <hr>
                    <div class="mb-4 pb-2">
                        <div class="row">
                            <div class="col-md-6">
                                <label for="" class="form-label">Thấp nhất</label>
                                <input type="text" class="form-control" name="" id="" />
                            </div>
                            <div class="col-md-6">
                                <label for="" class="form-label">Cao nhất</label>
                                <input type="text" class="form-control" name="" id="" />
                            </div>
                        </div>
                    </div>
                    <h5 style="font-size: 1.2rem;">DANH MỤC SẢN PHẨM</h5>
                    <hr>
                    <ul class="nav">
                        <li class="nav-item">
                            <div th:each="category : ${categories}">
                                <a class="dropdown-item nav-link"
                                    th:href="@{/site/doanhmuc/{categoryid}(categoryid=${category.categoryid})}">
                                    <span th:text="${category.name}"></span>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col-md-9 m-auto">
                    <div class="row">
                        <div th:each="product, iterStat : ${products}" class="col-md-4 pt-2">
                            <div class="p-2">
                                <div class="card-body">
                                    <a th:href="@{/site/productdetail/{productid}(productid=${product.productid})}">
                                        <img th:src="@{'/uploads/' + ${product.image}}" class="img-fluid pb-2" alt="" />
                                    </a>
                                    <p th:text="${product.category.name}"></p>
                                    <p th:text="${product.name}"></p>
                                    <div class="star">
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-fill"></i></span>
                                    </div>
                                    <h5 th:text="${#numbers.formatDecimal(product.price, 0, 'POINT', 3, 'COMMA')} + ' VND'"></h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <nav aria-label="Page navigation ">
                        <ul class="pagination d-flex justify-content-center">
                            <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
                                <a class="page-link" th:href="@{${isAllProducts} ? '/site/allproducts?page=0' : '/site/doanhmuc/' + ${categoryid} + '?page=0'}" aria-label="First">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <li class="page-item" th:each="pageNum : ${#numbers.sequence(0, totalPages - 1)}" th:classappend="${pageNum == currentPage} ? 'active'">
                                <a class="page-link" th:href="@{${isAllProducts} ? '/site/allproducts?page=' + ${pageNum} : '/site/doanhmuc/' + ${categoryid} + '?page=' + ${pageNum}}" th:text="${pageNum + 1}"></a>
                            </li>
                            <li class="page-item" th:classappend="${currentPage + 1 >= totalPages} ? 'disabled'">
                                <a class="page-link" th:href="@{${isAllProducts} ? '/site/allproducts?page=' + ${totalPages - 1} : '/site/doanhmuc/' + ${categoryid} + '?page=' + ${totalPages - 1}}" aria-label="Last">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </section>
    </section>
</body>

</html>
